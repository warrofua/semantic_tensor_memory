# Semantic Tensor Memory

A structured, interpretable memory system for tracking meaning across time, tokens, and context. This implementation provides a working prototype of the Semantic Tensor Memory (STM) system described in the accompanying paper.

---

## üöÄ Quick Start

1. **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```
    - Additional system requirement: For the CLI CSV import feature, ensure your Python installation includes `tkinter` (standard on most desktop Python distributions).

2. **Run the interactive demo:**
    ```bash
    python demo.py
    ```

3. **Run the Streamlit app:**
    ```bash
    streamlit run app.py
    ```

4. **Try these CLI commands:**
    - Type sentences to build semantic memory interactively.
    - Type `import` to import session notes from a CSV file (popup file picker, requires tkinter).
    - Type `plot` to visualize semantic drift (PCA, heatmap, and LLM clinical summary).
    - Type `drift` to see drift metrics between sessions.
    - Type `tokens` to see token-level drift.
    - Type `exit` to quit.

---

## üóÇÔ∏è Project Structure

- `memory/`: Core memory implementation
  - `embedder.py`: Token embedding using BERT
  - `store.py`: Tensor storage, management, and save/load utilities
  - `drift.py`: Semantic drift analysis utilities
- `viz/`: Visualization and analysis tools
  - `pca_plot.py`: 2D drift visualization, PCA, and LLM clinical summary
  - `heatmap.py`: Session similarity heatmaps
  - `pca_summary.py`: Narrative and keyword PCA axis summaries
  - `semantic_analysis.py`: LLM-powered clinical/narrative analysis (Ollama integration)
- `demo.py`: Interactive CLI demo (with CSV import and file picker)
- `app.py`: Streamlit web application for interactive analysis and visualization
- `requirements.txt`: Python dependencies

---

## ‚ú® Features

- Token-level semantic tracking
- Temporal drift visualization (PCA, heatmap)
- Session similarity and drift metrics
- Persistent memory storage
- CSV import with file picker (requires tkinter)
- LLM-powered clinical and narrative summaries (Ollama integration)
- Rich CLI for interactive exploration
- Streamlit web app for interactive analysis and visualization

---

## üí° Extensions & Ideas

- Drift alerts
- Sentence search
- HTML dashboard
- LLM explanation layer
- Clinical applications

---

## ‚ö†Ô∏è Notes

- The `venv/` directory is excluded from git and should **not** be committed.
- For LLM-powered summaries, ensure [Ollama](https://ollama.com/) is installed and running with a supported model (e.g., `qwen3:latest`).
- For best results, run the demo from a standard terminal (not inside VS Code or over SSH) to enable the file picker popup.
- **Dependencies:** This project requires `torch`, `transformers`, `scikit-learn`, `plotly`, `streamlit`, `rich`, `requests`, `pandas`, and `numpy`. The CLI CSV import feature requires `tkinter` (standard on most desktop Python installations).

---

## üìÑ Citation
If you use this codebase or ideas in your research, please cite the accompanying paper or link to this repository.

---

## üìÑ Documentation Alignment: PDF vs. Codebase

This section provides an objective mapping between the accompanying PDF (semantic-tensor-memory.pdf) and the codebase. It documents the completeness and correspondence of features, implementation, and documentation.

### Overview

- The PDF describes the motivation, architecture, algorithms, applications, and limitations of the Semantic Tensor Memory (STM) system.
- The codebase implements the STM system as described, including all major features, visualizations, and example analyses.

### Feature Correspondence Table

| Area                | PDF Coverage | Codebase Coverage | Notes                                                      |
|---------------------|--------------|-------------------|------------------------------------------------------------|
| STM Architecture    | Yes          | Yes               | Mathematical formalism and implementation are aligned.      |
| Data Import         | Yes          | Yes               | Interactive and CSV import, with metadata preservation.     |
| Visualization       | Yes          | Yes               | PCA, heatmaps, token trajectories, and session drift.       |
| LLM Integration     | Yes          | Yes               | Local LLM (Ollama) summaries and axis interpretation.       |
| Applications        | Yes          | Yes               | Use cases described; codebase provides tools for analysis.  |
| Example Analysis    | Yes          | Yes               | ABA session notes example and data included.                |
| Limitations/Future  | Yes          | Partial           | Tests/containerization mentioned as future work in PDF.     |
| UI/CLI Details      | Brief        | Yes               | More detail in codebase/README than in PDF.                 |
| Figures             | Yes          | Yes               | All referenced figures are generated by the codebase.       |

### Summary

- All major features and analyses described in the PDF are implemented in the codebase.
- The codebase provides additional practical details (CLI commands, Streamlit UI) not fully detailed in the PDF.
- The PDF is a conceptual and technical description; the codebase is a working implementation.
- The only notable gap is the lack of automated tests and containerization in the codebase, which are mentioned as future work in the PDF. 